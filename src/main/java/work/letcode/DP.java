package work.letcode;

import java.util.Arrays;

/**
 * @author zhailzh
 * 
 * @Date 2015��11��17��������3:22:27
 * 
 */
public class DP {

	/*ĳ��Ϊ�˷����й��ĵ���Ϯ������չ��һ�ֵ�������ϵͳ���������ֵ�������ϵͳ��һ��ȱ�ݣ�
	  ��Ȼ���ĵ�һ���ڵ��ܹ���������ĸ߶ȣ������Ժ�ÿһ���ڵ������ܸ���ǰһ���ĸ߶ȡ�ĳ�죬
	  �״ﲶ׽���й��ĵ�����Ϯ�����ڸ�ϵͳ�������ý׶Σ�����ֻ��һ��ϵͳ������п��ܲ����������еĵ�����
	  ���뵼�����η����ĸ߶ȣ��״�����ĸ߶������ǲ�����30000��������������������ϵͳ��������ض��ٵ�����
	���Ҫ�������е�������Ҫ�䱸���������ֵ�������ϵͳ��
	�����ʽ
	����һ�У�Ϊ�������η����ĸ߶�
	�����ʽ
	�������У��ֱ�����������صĵ�������Ҫ�������е�������Ҫ�䱸��ϵͳ��
	��������
	389 207 155 300 299 170 158 65
	�������
	6
	2
	��Ŀ������

	����������һ���������⣺��һ�����е�������������У��Լ��������ٻ��ֳɼ��鲻���������С���һ���Ǿ��䶯̬�滮���ڶ���ֱ�ӵķ�������С·�����ǣ����Ƕ���ͼƥ��ĸ��ӶȽϸߣ����ǿ��Խ���ת����������������У������ֵ�����ڲ����������е���С������������漰�������ѧ��ƫ�򼯵�Dilworth����
	*/
	/**
	 * �������������
	 * �������飺a1,a2,a3,....,an ����Ĳ����������е�  (ak,....,aj)
	 * ��ô���飺a1,a2,a3,....,an,an+1 ����Ĳ�����������  an+1 �����ajС����ô����ԭ����
	 * (ak,...aj,an+1)
	 * */
	

    public static void intercept(int[] array) {  
        int n = array.length;  
        //���ĵط���������d[] ������Ƿ�����iö�����Ժ󣬻������صĵ�������������iö������
        //����˵d[n] =1
        int[] d = new int[n];  
        int dmax, xh;  
        for (int i = n - 1; i >= 0; i--) { // �Ӻ���ǰ����d[i]ֵ  
            for (int j = i; j < n; j++) {
            	// array[j] <= array[i] �еĵ��ںţ��ͱ�ʾ�����˵�i������
                if ((array[j] <= array[i]) && (d[i] < d[j] + 1)) {  
                    d[i] = d[j] + 1;  
                    System.out.println("d[ "+i+"] :" + d[i]);
                }  
            }  
        }  
        dmax = 0;  
        xh = 1;  
        for (int i = 0; i < n; i++) { // ���dmax  
            if (d[i] > dmax) {  
                dmax = d[i];  
                xh = i;  
            }  
        }  
        System.out.println(dmax); // ������  �����ĵ�����
        System.out.print(array[xh] + " ");
//        xh ��ʾ�Ŀ�ʼ��λ�ã��������˼��
        int temp = xh;  
        for (int i = xh + 1; i < n; i++) {  
            if (d[i] == d[temp] - 1) {  
                temp = i;  
                System.out.print(array[i] + " ");  
            }  
        }  
        System.out.println();  
    }  
    
    
    
//    ��������
//    Nλͬѧվ��һ�ţ�������ʦҪ�����е�(N-K)λͬѧ���У�ʹ��ʣ�µ�Kλͬѧ�ųɺϳ����Ρ�   �ϳ�������ָ������һ�ֶ��Σ�
//    ��Kλͬѧ���������α��Ϊ1��2����K�����ǵ���߷ֱ�ΪT1��T2������TK�� 
//    �����ǵ��������T1<...<Ti>Ti+1>��>TK(1<=i<=K)��   ��������ǣ���֪����Nλͬѧ����ߣ�����������Ҫ��λͬѧ���У�
//    ����ʹ��ʣ�µ�ͬѧ�ųɺϳ����Ρ� 
//    �����ʽ Input Format      
//    ����ĵ�һ����һ������N(2<=N<=100)����ʾͬѧ����������һ����n���������ÿո�ָ�����i������Ti(130<=Ti<=230)�ǵ�iλͬѧ�����(����)�� 
//    �����ʽ Output Format      ��������õ������Ŷ��е�ͬѧ���� �Լ�����ͬѧ���������
    
   /**
    * �ؼ����ڶ��������⣬������һ������ģ�������������к���Ľ���������
    * ���ǿ��Զ���һ��m[i] ��ʾa[0,1,....,i]�� �������������l[i] �� ��Ľ��������е�r[i]�ĳ��� �ĺ͡�
    * Ȼ�����m[i]�����ֵ�����Ǿ��ܹ������С�ĳ�������
    * */
    
    public static void makeQueue(int[] array){
    	// d ǰ�õ����� ��������ǰ��Ԫ��
    	int[] aid = new int[array.length];
    	int n = array.length;
    	
    	int[] bid = new int[array.length];
    	
    	
    	for (int i =0; i < n; i++) { // ��ǰ������d[i]��ֵ
            for (int j = 0; j <= i; j++) {
                if ((array[j] < array[i]) && (aid[i] < aid[j] + 1)) {  
                    aid[i] = aid[j] + 1;  
                    System.out.println("ǰ��[ "+i+"] :" + aid[i]);
                }  
            }  
        }
    	
    	
    	 for (int i = n - 1; i >= 0; i--) { // �Ӻ���ǰ����d[i]ֵ  
             for (int j = i; j < n; j++) {
                 if ((array[j] < array[i]) && (bid[i] < bid[j] + 1)) {  
                	 bid[i] = bid[j] + 1;  
                     System.out.println("����[ "+i+"] :" + bid[i]);
                 }  
             }  
         } 
    	
    	  int max = 0;int midle = 0;
    	  for(int i = 0; i < n; i++)
    	  {
    	    if(max < aid[i] + bid[i]){
    	    	 max = aid[i] + bid[i]+1 ;  // Ѱ�����ϳ�����
    	    	    midle = i;
    	    }
    	     
    	  }
    	
    	  System.out.println("���ϳ������ǣ�"+ max + "�м��λ�ã� "+ midle );
    }

    
    
    public static void main(String[] args) {  
    	makeQueue(new int[] { 186 ,186, 150, 200, 160, 130, 197, 220});  
    } 
}
